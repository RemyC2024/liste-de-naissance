backend:
  name: github
  repo: RemyC2024/liste-de-naissance   # <-- à remplacer
  branch: main

  # OAuth (gratuit) — pas besoin de Netlify
  base_url: https://decapcms-oauth.netlify.app
  auth_endpoint: auth
  client_id: Ov23liWHmc3hdPIkb54I     # <-- à remplacer

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

locale: "fr"

collections:
  - name: "content"
    label: "Contenu du site"
    files:
      - name: "paiement"
        label: "Page Paiement"
        file: "content/paiement.json"
        format: "json"
        fields:
          - { label: "Titre", name: "title", widget: "string" }
          - { label: "Intro", name: "intro", widget: "text" }
          - label: "Bloc 1 — Formulaire"
            name: "bloc_form"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }
              - { label: "URL Embed Google Forms", name: "google_forms_embed_url", widget: "string" }
              - { label: "Hauteur Iframe", name: "iframe_height", widget: "number", value_type: "int", default: 860 }
          - label: "Bloc 2 — Lydia"
            name: "bloc_lydia"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }
              - { label: "Pseudo Lydia", name: "handle", widget: "string", required: false }
              - { label: "Lien Lydia", name: "link", widget: "string", required: false }
          - label: "Bloc 3 — Wero"
            name: "bloc_wero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }
          - label: "Bloc 4 — CB (HelloAsso)"
            name: "bloc_cb"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }
              - { label: "Note", name: "note", widget: "text" }
              - { label: "Lien HelloAsso", name: "helloasso_link", widget: "string" }
              - { label: "Texte bouton", name: "button_text", widget: "string" }

  - name: "produits"
    label: "Produits"
    file: "content/produits.json"
    format: "json"
    fields:
      - label: "Produits"
        name: "items"
        widget: "list"
        fields:
          - { label: "Ordre", name: "order", widget: "number", value_type: "int" }
          - { label: "Titre", name: "title", widget: "string" }
          - { label: "Montant indicatif", name: "price", widget: "string" }
          - { label: "Description", name: "description", widget: "text" }
          - { label: "Image", name: "image", widget: "image", required: false }
